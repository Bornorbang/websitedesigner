{% extends 'master.html' %}
{% load static %}
{% load humanize %}

{% block title %}{{ category.name }} Courses - Website Designer Nigeria{% endblock %}

{% block meta_description %}Explore {{ category.name }} courses in Nigeria. Learn {{ category.description|truncatewords:15 }} with expert-led training and earn certificates.{% endblock %}

{% block content %}
    <!-- Hero Banner Section -->
    <section class="relative min-h-[65vh] md:min-h-[80vh] lg:min-h-screen bg-gradient-to-br from-gray-900 via-slate-800 to-black overflow-hidden flex items-center">
        <!-- Background Elements -->
        <div class="absolute inset-0">
            <div class="absolute top-1/4 left-1/4 w-96 h-96 bg-red-600/10 rounded-full blur-3xl"></div>
            <div class="absolute bottom-1/3 right-1/3 w-80 h-80 bg-blue-600/10 rounded-full blur-3xl"></div>
            <div class="absolute top-1/2 right-1/4 w-64 h-64 bg-purple-600/10 rounded-full blur-3xl animate-pulse delay-700"></div>
        </div>
        
        <div class="relative z-10 max-w-7xl mx-auto px-6 w-full">
            <div class="grid lg:grid-cols-2 gap-12 items-center">
                <div class="wow fadeInLeft" data-wow-delay="0.2s">
                    <div class="space-y-6">
                        <!-- Breadcrumb -->
                        <div class="flex items-center space-x-2 text-sm">
                            <a href="{% url 'courses' %}" class="text-gray-400 hover:text-white transition">Courses</a>
                            <span class="text-gray-400">/</span>
                            <span class="text-white">{{ category.name }}</span>
                        </div>
                        
                        <h1 class="text-5xl lg:text-7xl font-bold leading-tight">
                            <span class="bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent">{{ category.name }}</span>
                            <span class="bg-gradient-to-r from-red-500 to-red-600 bg-clip-text text-transparent block">COURSES</span>
                        </h1>
                        
                        {% if category.description %}
                        <p class="text-xl lg:text-2xl text-gray-300 font-light max-w-2xl">
                            {{ category.description }}
                        </p>
                        {% endif %}
                    </div>
                </div>
                
                <!-- Right Visual -->
                <div class="hidden lg:block wow fadeInRight" data-wow-delay="0.4s">
                    <div class="relative">
                        <!-- Floating Learning Elements -->
                        <div class="relative bg-gradient-to-br from-slate-800 to-slate-900 rounded-2xl p-8 border border-slate-700/50 backdrop-blur-sm">
                            <div class="absolute -top-4 -right-4 w-8 h-8 bg-red-500 rounded-full animate-ping"></div>
                            <div class="absolute -bottom-4 -left-4 w-6 h-6 bg-green-500 rounded-full animate-ping delay-300"></div>
                            
                            <div class="space-y-4">
                                <div class="flex items-center space-x-2">
                                    <div class="w-3 h-3 bg-red-500 rounded-full"></div>
                                    <div class="w-3 h-3 bg-yellow-500 rounded-full"></div>
                                    <div class="w-3 h-3 bg-green-500 rounded-full"></div>
                                </div>
                                
                                <div class="space-y-2 text-sm">
                                    <div class="flex space-x-2">
                                        <span class="text-purple-400">&lt;category</span>
                                        <span class="text-blue-400">name=</span>
                                        <span class="text-green-400">"{{ category.name }}"</span>
                                        <span class="text-purple-400">&gt;</span>
                                    </div>
                                    <div class="flex space-x-2 ml-4">
                                        <span class="text-purple-400">&lt;courses</span>
                                        <span class="text-blue-400">count=</span>
                                        <span class="text-green-400">"{{ courses.count }}"</span>
                                        <span class="text-purple-400">&gt;</span>
                                    </div>
                                    <div class="ml-8 text-white">Master {{ category.name }} Skills</div>
                                    <div class="flex space-x-2 ml-4">
                                        <span class="text-purple-400">&lt;/courses&gt;</span>
                                    </div>
                                    <div class="flex space-x-2">
                                        <span class="text-purple-400">&lt;/category&gt;</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Scroll Indicator -->
        <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce">
            <div class="w-6 h-10 border-2 border-white/30 rounded-full flex justify-center">
                <div class="w-1 h-3 bg-white/50 rounded-full mt-2 animate-pulse"></div>
            </div>
        </div>
    </section>

    <!-- Courses Section -->
    <section id="courses" class="py-24 bg-gradient-to-br from-slate-50 to-gray-100 relative overflow-hidden">
        <!-- Background Elements -->
        <div class="absolute inset-0">
            <div class="absolute top-1/4 right-1/4 w-64 h-64 bg-red-100 rounded-full blur-3xl opacity-30"></div>
            <div class="absolute bottom-1/3 left-1/3 w-80 h-80 bg-blue-100 rounded-full blur-3xl opacity-20"></div>
        </div>
        
        <div class="relative max-w-7xl mx-auto px-6">
            <!-- Section Header -->
            <div class="text-center mb-16 wow zoomIn" data-wow-delay="0.1s">
                <p class="text-red-600 font-bold mb-4 text-base tracking-wider uppercase">{{ category.name }}</p>
                <h2 class="text-3xl lg:text-4xl font-bold text-gray-900 mb-4">Available Courses</h2>
                <div class="w-24 h-1 bg-gradient-to-r from-red-500 to-red-600 mx-auto mb-8 rounded-full"></div>
                <p class="text-lg text-gray-600 max-w-4xl mx-auto">Choose from our selection of {{ category.name|lower }} courses and start your learning journey today</p>
            </div>
            
            {% if courses %}
            <!-- Courses Grid -->
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                {% for course in courses %}
                <div class="group wow fadeInUp" data-wow-delay="0.5s">
                    <div class="bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden h-full flex flex-col border border-gray-100 hover:border-red-200 hover:-translate-y-2">
                        <!-- Course Image -->
                        <div class="relative overflow-hidden h-56">
                            {% if course.thumbnail %}
                                <img src="{{ course.thumbnail.url }}" alt="{{ course.title }}" class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-110">
                            {% else %}
                                <div class="w-full h-full bg-gradient-to-br from-red-500 to-red-600 flex items-center justify-center">
                                    <i class="fas fa-graduation-cap text-6xl text-white"></i>
                                </div>
                            {% endif %}
                            <!-- Course Rating Badge -->
                            <div class="absolute top-4 left-4 bg-white/90 backdrop-blur-sm rounded-full px-3 py-1 flex items-center space-x-1">
                                <i class="fas fa-star text-yellow-500 text-sm"></i>
                                <span class="text-sm font-semibold text-gray-900">{{ course.rating|default:"5.0" }}</span>
                            </div>
                        </div>
                        
                        <!-- Course Content -->
                        <div class="p-6 flex flex-col flex-grow">
                            <!-- Course Title -->
                            <h3 class="text-xl font-bold text-gray-900 mb-3 hover:text-red-600 transition-colors">
                                <a href="{{ course.get_absolute_url }}" class="hover:no-underline">{{ course.title }}</a>
                            </h3>
                            
                            <!-- Course Description -->
                            <p class="text-sm text-gray-600 mb-4 flex-grow">{{ course.short_description|truncatechars:120 }}</p>
                            
                            <!-- Course Meta Info -->
                            <div class="flex items-center justify-between text-sm text-gray-500 mb-4 pb-4 border-b border-gray-100">
                                <div class="flex items-center space-x-1">
                                    <i class="fas fa-clock text-red-500"></i>
                                    <span>{{ course.duration|default:"8" }}h</span>
                                </div>
                                <div class="flex items-center space-x-1">
                                    <i class="fas fa-video text-red-500"></i>
                                    <span>{{ course.sections.count|default:"12" }} lectures</span>
                                </div>
                                <div class="flex items-center">
                                    <span class="bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs font-medium">
                                        {{ course.get_level_display|default:"Beginner" }}
                                    </span>
                                </div>
                            </div>
                            
                            <!-- Price and Buy Button -->
                            <div class="flex items-center justify-between">
                                <div class="flex items-center space-x-2">
                                    {% if course.is_free %}
                                        <span class="text-lg font-bold text-green-600">Free</span>
                                    {% else %}
                                        {% if course.original_price and course.original_price > course.price %}
                                            <span class="text-sm text-gray-400 line-through">₦{{ course.original_price|floatformat:0|intcomma }}</span>
                                        {% endif %}
                                        <span class="text-lg font-bold text-red-600">₦{{ course.price|floatformat:0|intcomma }}</span>
                                    {% endif %}
                                </div>
                                <a href="{{ course.get_absolute_url }}" class="bg-red-600 hover:bg-red-700 text-white hover:text-white px-4 py-2 rounded-full font-medium text-sm transition-all duration-300 hover:scale-105 hover:shadow-lg">
                                    Buy Now
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
            {% else %}
            <!-- Empty State -->
            <div class="text-center py-16">
                <div class="w-24 h-24 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-6">
                    <i class="fas fa-book-open text-4xl text-gray-400"></i>
                </div>
                <h3 class="text-2xl font-bold text-gray-900 mb-4">No Courses Available Yet</h3>
                <p class="text-gray-600 mb-8">We're working on adding courses to this category. Check back soon!</p>
                <a href="{% url 'courses' %}" class="inline-block bg-red-600 hover:bg-red-700 text-white px-8 py-3 rounded-xl font-semibold transition">
                    Browse All Courses
                </a>
            </div>
            {% endif %}
        </div>
    </section>

    <!-- FAQ Start -->
    <div class="faq section-margin py-16 bg-white" id="faq">
        <div class="container mx-auto px-4">
            <div class="text-center mb-16 wow zoomIn" data-wow-delay="0.1s">
                <p class="text-red-600 font-semibold mb-4 text-base tracking-wider">FREQUENTLY ASKED QUESTIONS</p>
                <h2 class="text-3xl lg:text-4xl font-bold text-gray-900 mb-6">Tech Courses FAQs</h2>
                <div class="w-24 h-1 bg-gradient-to-r from-red-500 to-red-600 mx-auto rounded-full"></div>
            </div>
            <div class="flex justify-center">
                <div class="w-full max-w-4xl">
                    <div class="faq-list space-y-4">
                        <div class="faq-item bg-gray-50 border border-gray-200 rounded-lg fadeInUp" data-wow-delay="0.1s">
                            <h3 class="faq-question p-6 font-bold text-lg text-gray-900 cursor-pointer flex justify-between items-center hover:text-primary-600">
                                Tell me more about these courses
                                <span class="faq-icon text-primary-600 text-2xl">+</span>
                            </h3>
                            <div class="faq-answer hidden p-6 pt-0 text-gray-700 text-sm">
                                <p class="text-sm">Each course page contains detailed descriptions, learning objectives, and what to expect throughout your learning journey. Visit any course page and explore the <strong>Curriculum tab</strong> to view the complete course outline, including all sections and lectures. This helps you make an informed decision before enrolling.</p>
                            </div>
                        </div>
                        <div class="faq-item bg-gray-50 border border-gray-200 rounded-lg fadeInUp" data-wow-delay="0.2s">
                            <h3 class="faq-question p-6 font-bold text-lg text-gray-900 cursor-pointer flex justify-between items-center hover:text-primary-600">
                                After payment, what happens next?
                                <span class="faq-icon text-primary-600 text-2xl">+</span>
                            </h3>
                            <div class="faq-answer hidden p-6 pt-0 text-gray-700 text-sm">
                                <p class="text-sm">Once payment is confirmed, your course is automatically unlocked! You'll gain immediate access to all course materials in the <strong>Curriculum tab</strong>. Additionally, you'll be invited to join our exclusive course community where you can connect with fellow learners and receive support throughout your learning journey.</p>
                            </div>
                        </div>
                        <div class="faq-item bg-gray-50 border border-gray-200 rounded-lg fadeInUp" data-wow-delay="0.3s">
                            <h3 class="faq-question p-6 font-bold text-lg text-gray-900 cursor-pointer flex justify-between items-center hover:text-primary-600">
                                I'm no longer enrolled in a course I paid for. What should I do?
                                <span class="faq-icon text-primary-600 text-2xl">+</span>
                            </h3>
                            <div class="faq-answer hidden p-6 pt-0 text-gray-700 text-sm">
                                <p class="text-sm">All courses provide <strong>one year of full access</strong> from the date of enrollment. First, confirm that you're <a href="{% url 'login' %}" class="text-red-600 underline hover:text-red-700">logged into your account</a> and viewing the correct course. If you're still experiencing issues after verifying these details, please contact our support team for assistance.</p>
                            </div>
                        </div>
                        <div class="faq-item bg-gray-50 border border-gray-200 rounded-lg fadeInUp" data-wow-delay="0.4s">
                            <h3 class="faq-question p-6 font-bold text-lg text-gray-900 cursor-pointer flex justify-between items-center hover:text-primary-600">
                                I see multiple courses on the same topic. Which one should I choose?
                                <span class="faq-icon text-primary-600 text-2xl">+</span>
                            </h3>
                            <div class="faq-answer hidden p-6 pt-0 text-gray-700 text-sm">
                                <p class="text-sm">Each of our courses is comprehensively designed and well-detailed to ensure quality learning. While they may cover similar topics, each has its own unique teaching approach, depth, and focus areas. We recommend reviewing the course descriptions, checking the curriculum outlines, and reading student reviews to find the course that resonates most with your learning style and goals.</p>
                            </div>
                        </div>
                        <div class="faq-item bg-gray-50 border border-gray-200 rounded-lg fadeInUp" data-wow-delay="0.5s">
                            <h3 class="faq-question p-6 font-bold text-lg text-gray-900 cursor-pointer flex justify-between items-center hover:text-primary-600">
                                I'm trying to enroll but payment isn't going through. Help!
                                <span class="faq-icon text-primary-600 text-2xl">+</span>
                            </h3>
                            <div class="faq-answer hidden p-6 pt-0 text-gray-700 text-sm">
                                <p class="text-sm">We're here to help! If you're experiencing payment issues, please reach out to us directly on <a href="https://wa.me/2349058991274" target="_blank" class="text-green-600 underline hover:text-green-700"><i class="fab fa-whatsapp"></i> WhatsApp: 09058991274</a>. Our support team will quickly assist you in completing your enrollment and getting started with your course.</p>
                            </div>
                        </div>
                        <div class="faq-item bg-gray-50 border border-gray-200 rounded-lg fadeInUp" data-wow-delay="0.6s">
                            <h3 class="faq-question p-6 font-bold text-lg text-gray-900 cursor-pointer flex justify-between items-center hover:text-primary-600">
                                What support do you provide for course students?
                                <span class="faq-icon text-primary-600 text-2xl">+</span>
                            </h3>
                            <div class="faq-answer hidden p-6 pt-0 text-gray-700 text-sm">
                                <p class="text-sm">Every enrolled student receives <strong>one month of exclusive mentorship</strong> to guide you through your learning journey. You'll also gain access to our vibrant learning community where you can collaborate with fellow students, share knowledge, ask questions, and get support. We're committed to ensuring your success beyond just course content!</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- FAQ End -->

    <!-- Back to All Courses Section -->
    <section class="py-16 bg-gray-50">
        <div class="max-w-7xl mx-auto px-6 text-center">
            <a href="{% url 'courses' %}" class="inline-flex items-center text-red-600 hover:text-red-700 font-semibold text-lg transition">
                <i class="fas fa-arrow-left mr-3"></i>
                Back to All Courses
            </a>
        </div>
    </section>

{% endblock %}

{% block extra_js %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Initialize WOW.js for animations
    if (typeof WOW !== 'undefined') {
        new WOW().init();
    }
    
    // FAQ toggle functionality
    document.querySelectorAll('.faq-question').forEach(question => {
        question.addEventListener('click', function() {
            const answer = this.nextElementSibling;
            const icon = this.querySelector('.faq-icon');
            
            if (answer.classList.contains('hidden')) {
                answer.classList.remove('hidden');
                icon.textContent = '-';
            } else {
                answer.classList.add('hidden');
                icon.textContent = '+';
            }
        });
    });
    
    // Smooth scroll for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                target.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        });
    });
});
</script>
{% endblock %}
